<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from waver.xacro                    | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="waver">
  <!-- Wheels specifications -->
  <transmission name="wheel_back_left_joint_tran" type="SimpleTransmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wheel_back_left_joint">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="wheel_back_left_joint_actr">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="wheel_front_left_joint_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wheel_front_left_joint">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="wheel_front_left_joint_actr">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="wheel_front_right_joint_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wheel_front_right_joint">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="wheel_front_right_joint_actr">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="wheel_back_right_joint_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wheel_back_right_joint">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="wheel_back_right_joint_actr">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Wheels specifications -->
  <link name="ldlidar_link">
    <inertial>
      <mass value="0.045"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1.3010226e-05" ixy="0.0" ixz="0.0" iyy="1.6209553e-05" iyz="0.0" izz="2.1055697e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 -0.027"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/LD19.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 -0.027"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/LD19.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="lidar_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.04 0 0.0798"/>
    <parent link="top_shell_link"/>
    <child link="ldlidar_link"/>
  </joint>
  <!-- Wheels specifications -->
  <link name="imu_link">
    <inertial>
      <mass value="0.012365568710683028"/>
      <origin rpy="0 0 1.5707963267948966" xyz="-0.009815516471862793 0.009279213905334474 0.04129100418090821"/>
      <inertia ixx="5.313564367625195e-06" ixy="0.0" ixz="0.0" iyy="5.192849578266062e-06" iyz="0.0" izz="8.832425081682543e-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0.009279213905334474 0.009815516471862793 -0.04129100418090821"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/board_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="dark_green">
        <color rgba="0.86 0.625 0.52 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="0.009279213905334474 0.009815516471862793 -0.04129100418090821"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/board_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="top_imu_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.009279213905334474 -0.009815516471862793 0.04129100418090821"/>
    <parent link="top_shell_link"/>
    <child link="imu_link"/>
  </joint>
  <!-- ******************************* Links ******************************* -->
  <link name="base_footprint"/>
  <link name="base_link">
    <inertial>
      <mass value="0.37038398045076265"/>
      <origin rpy="0 0 1.5707963267948966" xyz="2.838767506182194e-05 -6.582658272236586e-06 0.002703800678253174"/>
      <inertia ixx="0.0008255973835920386" ixy="0.0" ixz="0.0" iyy="0.0005293282898445326" iyz="0.0" izz="0.0013315199498696443"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="_dark_gray">
        <color rgba="0.4 0.4 0.4 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="top_shell_link">
    <inertial>
      <mass value="0.7277708834628859"/>
      <origin rpy="0 0 1.5707963267948966" xyz="0.00018196851015090943 -0.0006833337545394898 0.038709537506103515"/>
      <inertia ixx="0.0022122780308922725" ixy="0.0" ixz="0.0" iyy="0.0018048674350663336" iyz="0.0" izz="0.003659349844340526"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/top_shell_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="_dark_gray">
        <color rgba="0.4 0.4 0.4 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/top_shell_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="accessories_link">
    <inertial>
      <mass value="0.0017616158924187116"/>
      <origin rpy="0 0 1.5707963267948966" xyz="-0.02246641731262207 0.08693458557128907 0.04861989974975586"/>
      <inertia ixx="2.2622278969724113e-07" ixy="0.0" ixz="0.0" iyy="7.36227380617578e-07" iyz="0.0" izz="7.362274117066844e-07"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0.08693458557128907 0.02246641731262207 -0.04861989974975586"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/accessories_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="0.08693458557128907 0.02246641731262207 -0.04861989974975586"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/accessories_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="accessories1_link">
    <inertial>
      <mass value="0.0021489822783274555"/>
      <origin rpy="0 0 1.5707963267948966" xyz="-0.002510018587112427 0.07360986328125002 0.035275302886962887"/>
      <inertia ixx="1.8160055789601745e-07" ixy="0.0" ixz="0.0" iyy="8.100907081280738e-07" iyz="0.0" izz="8.100806017664777e-07"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0.07360986328125002 0.002510018587112427 -0.035275302886962887"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/accessories1_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="0.07360986328125002 0.002510018587112427 -0.035275302886962887"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/accessories1_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="oled_screen_link">
    <inertial>
      <mass value="0.0014091265350616076"/>
      <origin rpy="0 0 1.5707963267948966" xyz="-6.735318456776441e-07 0.05096461868286133 0.048232952117919926"/>
      <inertia ixx="3.186534864702538e-08" ixy="0.0" ixz="0.0" iyy="2.5666330224105178e-07" iyz="0.0" izz="2.7215400443770056e-07"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0.05096461868286133 6.735318456776441e-07 -0.048232952117919926"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/oled_screen_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="dark_blue">
        <color rgba="0.0156 0.23 0.4 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="0.05096461868286133 6.735318456776441e-07 -0.048232952117919926"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/oled_screen_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="wheel_back_left_link">
    <inertial>
      <mass value="1.01701435808657"/>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <inertia ixx="0.0011153598236428852" ixy="0.0" ixz="0.0" iyy="0.0007115715200341761" iyz="0.0" izz="0.0007099489264864056"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0.04859128189086914 -0.06538582611083985 -0.004798986434936523"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/wheel_back_left_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="0.04859128189086914 -0.06538582611083985 -0.004798986434936523"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/wheel_back_left_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="wheel_front_left_link">
    <inertial>
      <mass value="1.0170155374515382"/>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <inertia ixx="0.0011153873944048257" ixy="0.0" ixz="0.0" iyy="0.0007115715200341761" iyz="0.0" izz="0.0007099764972483459"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="-0.048406845092773446 -0.06538582611083985 -0.004799012184143066"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/wheel_front_left_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="-0.048406845092773446 -0.06538582611083985 -0.004799012184143066"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/wheel_front_left_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="wheel_front_right_link">
    <inertial>
      <mass value="1.0170112199417978"/>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <inertia ixx="0.0011153598236428852" ixy="0.0" ixz="0.0" iyy="0.0007115715475157099" iyz="0.0" izz="0.0007099489539679392"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="-0.048593093872070316 0.06528724670410156 -0.004798998355865478"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/wheel_front_right_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="-0.048593093872070316 0.06528724670410156 -0.004798998355865478"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/wheel_front_right_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="wheel_back_right_link">
    <inertial>
      <mass value="1.0170123141691128"/>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <inertia ixx="0.0011153873944048257" ixy="0.0" ixz="0.0" iyy="0.0007115715475157099" iyz="0.0" izz="0.0007099765247298796"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0.04840502166748047 0.0652872543334961 -0.004799028396606446"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/wheel_back_right_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="0.04840502166748047 0.0652872543334961 -0.004799028396606446"/>
      <geometry>
        <mesh filename="package://waver_description/meshes/wheel_back_right_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- ******************************* Links ******************************* -->
  <joint name="base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.0 0.0 33.7e-3"/>
    <parent link="base_footprint"/>
    <child link="base_link"/>
  </joint>
  <joint name="base_top_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="top_shell_link"/>
  </joint>
  <joint name="top_acces_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.08693458557128907 -0.02246641731262207 0.04861989974975586"/>
    <parent link="top_shell_link"/>
    <child link="accessories_link"/>
  </joint>
  <joint name="top_acces1_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.07360986328125002 -0.002510018587112427 0.035275302886962887"/>
    <parent link="top_shell_link"/>
    <child link="accessories1_link"/>
  </joint>
  <joint name="top_screen_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.05096461868286133 -6.735318456776441e-07 0.048232952117919926"/>
    <parent link="top_shell_link"/>
    <child link="oled_screen_link"/>
  </joint>
  <joint name="wheel_back_left_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.04859128189086914 0.06538582611083985 0.004798986434936523"/>
    <parent link="base_link"/>
    <child link="wheel_back_left_link"/>
    <axis xyz="0 1 0"/>
  </joint>
  <joint name="wheel_front_left_joint" type="continuous">
    <origin rpy="0 0 0" xyz="0.048406845092773446 0.06538582611083985 0.004799012184143066"/>
    <parent link="base_link"/>
    <child link="wheel_front_left_link"/>
    <axis xyz="0 1 0"/>
  </joint>
  <joint name="wheel_front_right_joint" type="continuous">
    <origin rpy="0 0 0" xyz="0.048593093872070316 -0.06528724670410156 0.004798998355865478"/>
    <parent link="base_link"/>
    <child link="wheel_front_right_link"/>
    <axis xyz="0 1 0"/>
  </joint>
  <joint name="wheel_back_right_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.04840502166748047 -0.0652872543334961 0.004799028396606446"/>
    <parent link="base_link"/>
    <child link="wheel_back_right_link"/>
    <axis xyz="0 1 0"/>
  </joint>
  <!-- Wheels specifications -->
  <!-- =============== Gazebo =============== -->
  <gazebo>
    <plugin filename="gz-sim-diff-drive-system" name="gz::sim::systems::DiffDrive">
      <left_joint>wheel_front_left_joint</left_joint>
      <left_joint>wheel_back_left_joint</left_joint>
      <right_joint>wheel_front_right_joint</right_joint>
      <right_joint>wheel_back_right_joint</right_joint>
      <wheel_separation>123e-3</wheel_separation>
      <wheel_radius>40.6e-3&quot;</wheel_radius>
      <!-- Control gains and limits (optional) -->
      <max_velocity>1.25</max_velocity>
      <!-- Max linear velocity in m/s -->
      <max_linear_acceleration>1</max_linear_acceleration>
      <min_linear_acceleration>-1</min_linear_acceleration>
      <max_angular_acceleration>2</max_angular_acceleration>
      <min_angular_acceleration>-2</min_angular_acceleration>
      <!-- <max_linear_velocity>0.5</max_linear_velocity>
          <min_linear_velocity>-0.5</min_linear_velocity>
          <max_angular_velocity>1</max_angular_velocity>
          <min_angular_velocity>-1</min_angular_velocity> -->
      <topic>cmd_vel</topic>
      <odom_topic>odom</odom_topic>
      <frame_id>odom</frame_id>
      <child_frame_id>base_footprint</child_frame_id>
      <odom_publisher_frequency>30</odom_publisher_frequency>
      <tf_topic>/tf</tf_topic>
    </plugin>
    <plugin filename="gz-sim-joint-state-publisher-system" name="gz::sim::systems::JointStatePublisher">
      <topic>joint_states</topic>
      <left_joint>wheel_front_left_joint</left_joint>
      <left_joint>wheel_back_left_joint</left_joint>
      <right_joint>wheel_front_right_joint</right_joint>
      <right_joint>wheel_back_right_joint</right_joint>
    </plugin>
    <plugin filename="gz-sim-sensors-system" name="gz::sim::systems::Sensors">
      <render_engine>ogre2</render_engine>
    </plugin>
    <plugin filename="gz-sim-imu-system" name="gz::sim::systems::Imu">
        </plugin>
  </gazebo>
  <gazebo reference="ldlidar_link">
    <sensor name="D500" type="gpu_lidar">
      <gz_frame_id>ldlidar_link</gz_frame_id>
      <topic>scan</topic>
      <update_rate>5</update_rate>
      <lidar>
        <scan>
          <horizontal>
            <samples>360</samples>
            <resolution>1</resolution>
            <min_angle>-3.141592653589793</min_angle>
            <max_angle>3.141592653589793</max_angle>
          </horizontal>
          <!-- <vertical>
                <samples>1</samples>
                <resolution>0.1</resolution>
                <min_angle>0.0</min_angle>
                <max_angle>0.0</max_angle>
              </vertical> -->
        </scan>
        <range>
          <min>0.03</min>
          <max>12.0</max>
          <resolution>0.01</resolution>
        </range>
        <frame_id>ldlidar_link</frame_id>
      </lidar>
      <alwaysOn>1</alwaysOn>
      <visualize>true</visualize>
    </sensor>
  </gazebo>
  <gazebo reference="imu_link">
    <sensor name="imu_sensor" type="imu">
      <gz_frame_id>imu_link</gz_frame_id>
      <topic>imu</topic>
      <update_rate>200</update_rate>
      <always_on>1</always_on>
      <visualize>true</visualize>
    </sensor>
  </gazebo>
  <gazebo reference="base_link">
    <sensor name="camera_sensor" type="camera">
      <gz_frame_id>base_link</gz_frame_id>
      <topic>camera/image_raw</topic>
      <update_rate>30</update_rate>
      <camera>
        <horizontal_fov>1.57</horizontal_fov>
        <!-- 90 degrees FOV -->
        <image>
          <width>640</width>
          <height>480</height>
          <format>R8G8B8</format>
          <!-- RGB format -->
        </image>
        <clip>
          <near>0.01</near>
          <far>100.0</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.007</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <visualize>true</visualize>
    </sensor>
  </gazebo>
  <gazebo reference="base_link">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>false</selfCollide>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="top_shell_link">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>false</selfCollide>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="accessories_link">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>false</selfCollide>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="accessories1_link">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>false</selfCollide>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="imu_link">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>false</selfCollide>
    <material>Gazebo/Orange</material>
  </gazebo>
  <gazebo reference="oled_screen_link">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>false</selfCollide>
    <material>Gazebo/BlueGlow</material>
  </gazebo>
  <gazebo reference="wheel_back_left_link">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>false</selfCollide>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="wheel_front_left_link">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>false</selfCollide>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="wheel_front_right_link">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>false</selfCollide>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="wheel_back_right_link">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>false</selfCollide>
    <material>Gazebo/Black</material>
  </gazebo>
</robot>
